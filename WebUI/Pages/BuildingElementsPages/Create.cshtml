@page
@model WebUI.Pages.BuildingElementsPages.CreateModel

<div class="bg-light">
	<form method="post">
		<div class="row fs-1 mx-5 py-5">
			Ďalšia stavebná konštrukcia (stena, podlaha a pod.)
		</div>
		<div class="p-5">
			<div class="my-3" style="display:flex; flex-direction: row; width:50%">
				<label class="fs-4 m-3">Podlažie:</label>
				<select asp-items="Model.StoreySelectList" class="fs-4 px-2" autofocus onchange="getStoreys('spaceSelect')">
					<option value="">-- Podlažia --</option>
				</select>
			</div>
			<div class="my-3" style="display:flex; flex-direction: row; width:50%">
				<label class="fs-4 m-3">Názov&nbsp;priestoru:</label>
				<select id="spaceSelect" asp-for="BuildingElementDto.SpacesId" disabled class="fs-4 px-2">
					<option value="">-- Priestory --</option>
				</select>
			</div>
			<div classs="my-5" style="display:flex; flex-direction: row; width:50%">
				<label class="fs-4 m-3">Stavebná&nbsp;konštrukcia:</label>
				<input asp-for="BuildingElementDto.Name" disabled class="form-control fs-4 my-3" />
			</div>
			<div classs="my-3" style="display:flex; flex-direction: row; width:50%">
				<label class="fs-4 m-3">Súčasťou&nbsp;stavebnej&nbsp;konštrukcie:</label>
				<select asp-for="BuildingElementDto.EmbededIn" asp-items="Model.EmbededInSelectList" disabled class="fs-4 px-2">
					<option value="">-- Hlavná konštrukcia --</option>
				</select>
			</div>
			<div classs="my-3" style="display:flex; flex-direction: row; width:50%">
				<label class="fs-4 m-3">Účinná&nbsp;plocha:</label>
				<input asp-for="BuildingElementDto.EffectiveArea" class="form-control fs-4 my-3" />
				<div class="fs-4 m-3">m<sup>2</sup></div>
			</div>
			<div classs="my-3" style="display:flex; flex-direction: row; width:50%">
				<label class="fs-4 m-3">Tepelný&nbsp;odpor:</label>
				<select asp-for="BuildingElementDto.ThermalResistance" asp-items="Model.ThermalResistanceSelectList" disabled class="fs-4 px-2">
					<option value="">-- Tepelný odpor --</option>
				</select>
				<div class="fs-4 m-3">m<sup>2</sup>.K/W</div>
			</div>
			<div class="my-3" style="display:flex; flex-direction: row; width:50%">
				<label class="fs-4 m-3">Vedľajší&nbsp;priestor:</label>
				<select asp-for="BuildingElementDto.ContiguousSpaceId" asp-items="Model.ContiguousSpaceSelectList" disabled class="fs-4 px-2">
					<option value="">-- Vedľajší priestor --</option>
				</select>
			</div>
		</div>
		<button type="submit" class="btn btn-secondary float-sm-start m-3">Potvrď</button>
	</form>
</div>


<script>
	function getStoreys(selectId) {
		$.ajax({
			type: "GET",
			dataType: "JSON",
			url: "?handler=Test",
			success: function (response) {
				addOptions(selectId, response);
			},
			failure: function () { },
			error: function () { }
		});
		function addOptions(selectId, response) {
			$.each(response, function (i, v) {
				$('<option value="' + v.id + '">' + v.name + '</option>').appendTo("#" + selectId);
			});
		}
	}
</script>
